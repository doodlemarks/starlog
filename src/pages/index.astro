---
import Layout from '../layouts/IndexLayout.astro';
import Header from '../components/Header.astro';
const posts = await Astro.glob('../pages/posts/*.md');
posts.sort((a, b) => Date.parse(b.frontmatter.date) - Date.parse(a.frontmatter.date));

---
<Layout>
	<main>
		<h1 class="page_title">Changelog</h1>
		<hr />
		<ul class="posts">
			{posts.map(post => 
				<li class="post">
					<div class="version_wrapper">
						<div class="version_info">
							<a href={post.url}>
								<div class="version_number">{post.frontmatter.versionNumber}</div>
								<div class="date">{post.frontmatter.date}</div>
							</a>
							</div>
						</div>
					<div class="content">
						<Fragment set:html={post.compiledContent()}/>
					</div>
				</li>
			)}
		</ul>
	</main>
</Layout>